layout (location = 0) in vec3 aPos;

out float dScale;
uniform mat4 pvm;
uniform float fNear;
uniform float fFar;

const float minPointScale = 0.15;

void main()
{


	
	gl_Position = pvm * vec4( aPos, 1.0 );

	//this is not correct, but for now ok
	dScale=1.0-((gl_Position.z+fNear)/(fNear+fFar));

	dScale = max(dScale,minPointScale);
	dScale=dScale*dScale;
	
}
